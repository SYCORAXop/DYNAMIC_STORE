<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DYNAMIC STORE | Your Bag</title>
  <link rel="icon" type="image/png" href="https://res.cloudinary.com/dzpepncyt/image/upload/v1767845420/web_logo_xlr3xz.png">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <style>
    /* --- MASTER THEME --- */
    :root { --primary: #ff0000; --primary-glow: rgba(255, 0, 0, 0.6); --bg: #000000; --card-bg: #0a0a0a; --header-bg: rgba(5, 5, 5, 0.95); }
    
    body { background-color: var(--bg); color: #fff; font-family: 'Arial Black', sans-serif; margin: 0; padding: 0; overflow-x: hidden; text-align: center; }
    
    #particles-js { position: fixed; width: 100%; height: 100%; top: 0; left: 0; z-index: -1; pointer-events: none; }
    
    .top-strip { background: var(--primary); color: #000; padding: 10px 0; font-weight: 900; font-size: 0.75rem; letter-spacing: 2px; text-transform: uppercase; }
    
    header { background: var(--header-bg); border-bottom: 2px solid var(--primary); padding: 40px 20px; position: sticky; top: 0; z-index: 1000; backdrop-filter: blur(15px); }
    
    .shop-logo { font-size: clamp(2rem, 5vw, 3rem); letter-spacing: -2px; margin: 0; text-transform: uppercase; }
    .shop-logo span { color: var(--primary); text-shadow: 0 0 15px var(--primary-glow); }
    
    .shop-nav { display: flex; justify-content: center; gap: 30px; margin-top: 25px; }
    .shop-nav a { color: #888; text-decoration: none; font-size: 0.8rem; letter-spacing: 2px; transition: 0.3s; position: relative; }
    .shop-nav a:hover { color: #fff; }
    .shop-nav a.active { color: var(--primary); }
    .shop-nav a.active::after { content: ''; position: absolute; bottom: -8px; left: 0; width: 100%; height: 2px; background: var(--primary); }

    /* --- CART LAYOUT --- */
    .cart-container { max-width: 1200px; margin: 40px auto; padding: 20px; display: grid; grid-template-columns: 1.5fr 1fr; gap: 40px; }
    @media (max-width: 900px) { .cart-container { grid-template-columns: 1fr; } }

    .cart-items-section { background: var(--card-bg); border: 1px solid #1a1a1a; padding: 30px; text-align: left; }
    .cart-title { border-bottom: 1px solid var(--primary); padding-bottom: 15px; margin-bottom: 30px; }
    .cart-item { display: flex; gap: 20px; align-items: center; padding: 20px 0; border-bottom: 1px solid #1a1a1a; }
    .item-img { width: 100px; height: 100px; background: #111; border-radius: 4px; object-fit: cover; }
    .item-info { flex-grow: 1; }
    .item-info h4 { margin: 0; font-size: 1.1rem; }
    .item-info p { color: #888; font-family: sans-serif; font-size: 0.8rem; margin: 5px 0; }
    
    .item-size-tag {
        display: inline-block;
        background: #111;
        border: 1px solid var(--primary);
        color: var(--primary);
        padding: 2px 8px;
        font-size: 0.7rem;
        margin-top: 5px;
        text-transform: uppercase;
    }

    .quantity-control { display: flex; align-items: center; gap: 15px; margin-top: 10px; }
    .qty-btn { background: #222; border: none; color: #fff; cursor: pointer; padding: 5px 15px; transition: 0.3s; font-family: 'Arial Black'; }
    .qty-btn:hover { background: var(--primary); color: #000; }

    /* --- ENHANCED CLEAR CART BUTTON --- */
    .clear-cart-btn { 
        background: transparent; 
        color: #ff4d4d; 
        border: 1px solid #440000; 
        padding: 12px 20px; 
        font-family: 'Arial Black'; 
        font-size: 0.75rem; 
        cursor: pointer; 
        margin-top: 30px; 
        letter-spacing: 1px;
        transition: all 0.3s ease;
        text-transform: uppercase;
    }

    .clear-cart-btn:hover { 
        background: #ff0000; 
        color: #000; 
        border-color: #ff0000;
        box-shadow: 0 0 15px rgba(255, 0, 0, 0.4);
        transform: translateY(-2px);
    }

    .clear-cart-btn:active {
        transform: translateY(0);
    }

    .checkout-panel { background: #0f0f0f; border: 1px solid var(--primary); padding: 30px; height: fit-content; position: sticky; top: 180px; text-align: left; }
    .summary-row { display: flex; justify-content: space-between; margin-bottom: 15px; font-family: sans-serif; color: #888; }
    .total-row { border-top: 1px solid #333; margin-top: 20px; padding-top: 20px; display: flex; justify-content: space-between; font-size: 1.5rem; }
    .checkout-btn { 
        width: 100%; 
        padding: 20px; 
        background: var(--primary); 
        color: #000; 
        border: none; 
        font-family: 'Arial Black'; 
        cursor: pointer; 
        margin-top: 30px; 
        text-transform: uppercase; 
        box-shadow: 0 0 20px var(--primary-glow);
        transition: all 0.2s ease;
    }

    .checkout-btn:hover {
        background: #fff;
        color: #ff0000;
        box-shadow: 0 0 40px var(--primary);
        transform: scale(1.02);
    }

    /* --- FOOTER --- */
    footer { background: #050505; border-top: 2px solid var(--primary); padding: 80px 20px 40px 20px; text-align: left; margin-top: 100px; }
    .footer-container { max-width: 1200px; margin: auto; display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 50px; }
    .footer-col h4 { color: var(--primary); margin-bottom: 25px; font-size: 1.2rem; }
    .footer-col p, .footer-col a { color: #888; text-decoration: none; font-size: 0.9rem; display: block; margin-bottom: 12px; transition: 0.3s; font-family: sans-serif;}
    .footer-col a:hover { color: #fff; padding-left: 5px; }
    .social-icons { display: flex; gap: 15px; margin-top: 20px; }
    .social-icons i { width: 40px; height: 40px; background: #111; display: flex; align-items: center; justify-content: center; border-radius: 50%; transition: 0.3s; cursor: pointer; }
    .social-icons i:hover { background: var(--primary); color: #000; box-shadow: 0 0 15px var(--primary); }
    .status-dot { height: 10px; width: 10px; background-color: #00ff00; border-radius: 50%; display: inline-block; margin-right: 10px; box-shadow: 0 0 8px #00ff00; animation: pulse 1.5s infinite; }
  </style>
</head>
<body>

  <div id="particles-js"></div>
  <div class="top-strip">EQUIP THE BEST • FREE SHIPPING ALL OVER INDIA • NEW DROPS LIVE NOW</div>

  <header>
    <a href="index.html" style="text-decoration: none; color: inherit;">
      <h1 class="shop-logo"><span>YOUR</span> CART</h1>
    </a>
    <nav class="shop-nav">
      <a href="index.html">CLOTHING</a>
      <a href="Hardware.html">HARDWARE</a>
      <a href="accessories.html">ACCESSORIES</a>
      <a href="cart.html" class="active">
        <i class="fas fa-shopping-bag"></i> CART (<span id="cart-count">0</span>)
      </a>
    </nav>
  </header>

  <main class="cart-container">
    <section class="cart-items-section">
      <h2 class="cart-title">YOUR CART (<span id="title-count">0</span>)</h2>
      <div id="cart-items-container"></div>
      <div style="text-align: left; display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap;">
        <a href="index.html" class="back-link" style="color:#555; text-decoration:none; margin-top: 30px;"><i class="fas fa-arrow-left"></i> CONTINUE SHOPPING</a>
        <button onclick="clearCart()" class="clear-cart-btn"><i class="fas fa-trash-alt"></i> CLEAR CART</button>
      </div>
    </section>

    <aside class="checkout-panel">
      <h3>ORDER SUMMARY</h3>
      <div class="summary-row"><span>Subtotal</span><span id="subtotal">₹0</span></div>
      <div class="summary-row"><span>Shipping</span><span style="color: #00ff00;">FREE</span></div>
      <div class="summary-row"><span>Tax (GST)</span><span id="tax">₹0</span></div>
      <div class="total-row"><span>TOTAL</span><span id="total" style="color: var(--primary);">₹0</span></div>
      <button class="checkout-btn" onclick="window.location.href='checkout.html'">PROCEED TO SECURE PAY</button>
    </aside>
  </main>

  <footer>
    <div class="footer-container">
      <div class="footer-col">
        <h4>DYNAMIC STYLING</h4>
        <p>The hardware and apparel of champions. Designed by players, for players. Since 2018.</p>
        <div class="social-icons">
          <i class="fab fa-instagram"></i>
          <i class="fab fa-twitter"></i>
          <i class="fab fa-discord"></i>
        </div>
      </div>
      <div class="footer-col">
        <h4>SUPPORT</h4>
        <a href="track.html">Track Order</a>
        <a href="size-guide.html">Size Guide</a>
        <a href="return-policy.html">Return Policy</a>
        <a href="contact.html">Contact Us</a>
      </div>
      <div class="footer-col">
        <h4>SHOP STATUS</h4>
        <p><span class="status-dot"></span> Server: Online</p>
        <p><span class="status-dot"></span> Inventory: Restocked</p>
        <p style="margin-top:20px; color:#555;">&copy; 2018 DYNAMIC ESPORTS</p>
      </div>
    </div>
  </footer>

  <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
  <script>
    particlesJS("particles-js", {
      "particles": {
        "number": { "value": 50, "density": { "enable": true, "value_area": 800 } },
        "color": { "value": "#ff0000" },
        "shape": { "type": "circle" },
        "opacity": { "value": 0.3 },
        "size": { "value": 2 },
        "line_linked": { "enable": true, "distance": 150, "color": "#ff0000", "opacity": 0.2, "width": 1 },
        "move": { "enable": true, "speed": 1 }
      },
      "interactivity": { "detect_on": "canvas", "events": { "onhover": { "enable": true, "mode": "grab" } } },
      "retina_detect": true
    });

    function renderCart() {
        const cart = JSON.parse(localStorage.getItem('gearboxCart')) || [];
        const container = document.getElementById('cart-items-container');
        let subtotal = 0;
        let totalItems = 0;

        container.innerHTML = ''; 

        if (cart.length === 0) {
            container.innerHTML = '<p style="color:#444; font-family:sans-serif;">Your armory is empty. Initialize combat gear to proceed.</p>';
        }

        cart.forEach((item, index) => {
            subtotal += item.price * item.quantity;
            totalItems += item.quantity;

            const sizeDisplay = item.size ? `<div class="item-size-tag">SIZE: ${item.size}</div>` : '';

            container.innerHTML += `
                <div class="cart-item">
                    <img src="${item.image}" class="item-img">
                    <div class="item-info">
                        <h4>${item.name}</h4>
                        ${sizeDisplay}
                        <p>Unit Price: ₹${item.price.toLocaleString('en-IN')}</p>
                        <div class="quantity-control">
                            <button class="qty-btn" onclick="updateQty(${index}, -1)">-</button>
                            <span class="qty-val">${item.quantity}</span>
                            <button class="qty-btn" onclick="updateQty(${index}, 1)">+</button>
                        </div>
                    </div>
                    <div style="color: var(--primary);">₹${(item.price * item.quantity).toLocaleString('en-IN')}</div>
                </div>
            `;
        });

        const gstRate = 0.05; 
        const tax = Math.round(subtotal * gstRate);

        document.getElementById('subtotal').innerText = '₹' + subtotal.toLocaleString('en-IN');
        const taxElement = document.getElementById('tax');
        taxElement.innerHTML = `₹${tax.toLocaleString('en-IN')} <small style="font-size:0.6rem; color:#555;">(5% GST)</small>`;
        
        document.getElementById('total').innerText = '₹' + (subtotal + tax).toLocaleString('en-IN');
        document.getElementById('cart-count').innerText = totalItems;
        document.getElementById('title-count').innerText = totalItems;
    }

    function updateQty(index, change) {
        let cart = JSON.parse(localStorage.getItem('gearboxCart'));
        cart[index].quantity += change;
        if (cart[index].quantity <= 0) cart.splice(index, 1);
        localStorage.setItem('gearboxCart', JSON.stringify(cart));
        renderCart();
    }

    function clearCart() {
        // Updated confirmation popup text
        if(confirm("Wipe all data from cart?")) {
            localStorage.removeItem('gearboxCart');
            renderCart();
        }
    }

    renderCart();
    window.addEventListener('storage', () => { renderCart(); });
  </script>
</body>
</html>